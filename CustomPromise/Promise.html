<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customize Promise</title>
</head>
<body>
    <script src="../CustomPromise/lib/Promise.js"></script>
    <!-- <script>
        const p = new Promise((resolve, reject)=>{
            // setTimeout(()=>{
            //     resolve(1)
            // },100)

                reject(2)

            
        }).then(
            value=>{
                console.log('onResolved1()',value);
            },
            reason=>{
                console.log('onReject1()',reason);
            }
        ).then(
            value=>{
                console.log('onResolved2()',value);
            },
            reason=>{
                console.log('onReject2()',reason);
            }
        )
    </script> -->

    <!-- <script>
        const p = new Promise((resolve, reject)=>{

            //resolve(1)
            setTimeout(() => {
                reject(2)
            }, 1000);
            

            
        }).then(
            value=>{
                console.log('onResolved1()',value);
            },
            reason=>{
                console.log('onReject1()',reason);
                //return 3
                //throw 4
                return new Promise((resolve, reject)=>reject(5))
            }
        ).then(
            value=>{
                console.log('onResolved2()',value);
            },
            reason=>{
                console.log('onReject2()',reason);
                throw 6;
            }
        ).catch(reason=>{
            console.log('onReject3()',reason)
            return new Promise(()=>{}) //中断promise
        }).then(
            value=>{
                console.log('onResolved4()',value);
            },
            reason=>{
                console.log('onReject4()',reason);
                throw 7;
            }
        )
    </script> -->
    <!-- <script>
        const p1=Promise.resolve(2);
        const p2=Promise.resolve(Promise.resolve(3));
        const p3 = Promise.resolve(Promise.reject(4));

        p1.then(value=>{console.log('p1',value)}) //如果是一般值，p1成功， value就是这个值
        p2.then(value=>{console.log('p2',value)}) //如果是成功的promise，p2成功， value就是这个promise的value
        p3.catch(reason=>{console.log('p3',reason)})//如果是失败的promise，p3失败， reason就是这个promise的reason
    </script> -->
    <script>
        const p1=Promise.resolve(2);
        const p2=Promise.resolve(Promise.resolve(3));
        const p3 = Promise.resolve(Promise.reject(4));

        // const pAll = Promise.all([p1,p2])
        // pAll.then(
        //     values=>{
        //         console.log('all onResolved()', values)
        //     },
        //     reason=>{
        //         console.log('all onRejected()', reason)
        //     },
        // )

        const pRace = Promise.race([p1,p2,p3])
        pRace.then(
            value=>{
                console.log('race onResolved()', value)
            },
            reason=>{
                console.log('race onRejected()', reason)
            },
        )
    </script>
</body>
</html>